#!/bin/sh

set -e

# ログファイルのパス
logfile="/tmp/tbug.log"

# ログファイルの存在確認、なければ作成
test -f "${logfile}" || touch "${logfile}"

 # -q オプションの場合
if [ "${1}" = "-q" ]; then

    #標準入力をそのままファイルへ追記
    cat >> "${logfile}"

else

    # 標準入力をteeで出力とファイル追記を同時に実施
    cat | tee -a "${logfile}"

fi

